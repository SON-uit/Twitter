extends layouts/main-layout.pug

block content
    if errorMessage
        span.errorMessage #{errorMessage}
    else 
        script.
            const chatId = '!{chat._id}'
        .chatPageContainer 
            .chatTitleBarContainer
                +creatChatImg(chat,userLoggedIn)
                span#chatName(data-toggle="modal" data-target="#chatNameModal")
            .mainContentContainer
                .loadingSpinnerContainer
                    img(src="/images/spinner.gif" alt="Loading...")
                .chatContainer
                    ul.chatMessages
                    .typingDots
                        img(src="/images/typing-dots.gif" alt="Typing dots")
                    .footer
                        textarea#inputTextBox(name="messageInput",placeholder="Type a message....")
                        button#sendMessageBtn
                            i.fas.fa-paper-plane
        +changeChatNameModal(chat)
block scripts 
    script(src='/js/chatPage.js')